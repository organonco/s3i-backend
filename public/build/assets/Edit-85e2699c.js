import{_ as g}from"./MainLayout-8928173f.js";import{_,a as V}from"./CourseItemsInput-a7b3fe59.js";import{S as c}from"./SimpleFormSheet-5becaaa3.js";import{r as a,o as b,f as h,w as l,a as s,T as y}from"./app-2322b5df.js";import"./CenterSheet-81373a03.js";const U={data:function(){return{items:this.course.data.items,form:y({_method:"put",name:this.course.data.name,description:this.course.data.description,introduction_video_url:this.course.data.introduction_video_url,category_id:this.course.data.category.id,students_limit:this.course.data.students_limit,user_ids:this.course.data.user_ids,image:""})}},methods:{submit:function(){for(let t=0;t<this.items.length;t++)this.items[t]=V.cloneDeep(this.items[t]);this.form.transform(t=>({...t,items:this.items})).post(route("course.update",this.course.data.id))}}},k=Object.assign(U,{__name:"Edit",props:{course:Object,categories:Object,teachers:Array},setup(t){return(e,o)=>{const m=a("v-text-field"),n=a("v-textarea"),d=a("v-autocomplete"),u=a("v-select"),f=a("v-file-input"),i=a("v-col"),p=a("v-img"),v=a("v-row");return b(),h(g,{title:"تعديل كورس"},{default:l(()=>[s(c,{cols:"8",onSave:e.submit},{default:l(()=>[s(m,{label:"اسم الكورس",variant:"solo",modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=r=>e.form.name=r),"error-messages":e.form.errors.name},null,8,["modelValue","error-messages"]),s(n,{label:"الوصف",variant:"solo",modelValue:e.form.description,"onUpdate:modelValue":o[1]||(o[1]=r=>e.form.description=r),"error-messages":e.form.errors.description},null,8,["modelValue","error-messages"]),s(m,{label:"رابط الفيديو التعريفي",variant:"solo",modelValue:e.form.introduction_video_url,"onUpdate:modelValue":o[2]||(o[2]=r=>e.form.introduction_video_url=r),"error-messages":e.form.errors.introduction_video_url},null,8,["modelValue","error-messages"]),s(m,{label:"عدد الطلاب في كل صف",type:"number",variant:"solo",modelValue:e.form.students_limit,"onUpdate:modelValue":o[3]||(o[3]=r=>e.form.students_limit=r),"error-messages":e.form.errors.students_limit},null,8,["modelValue","error-messages"]),s(d,{label:"القسم",variant:"solo",modelValue:e.form.category_id,"onUpdate:modelValue":o[4]||(o[4]=r=>e.form.category_id=r),items:t.categories.data,"error-messages":e.form.errors.category_id,"item-title":"name","item-value":"id"},null,8,["modelValue","items","error-messages"]),s(u,{label:"المعلمين",variant:"solo",modelValue:e.form.user_ids,"onUpdate:modelValue":o[5]||(o[5]=r=>e.form.user_ids=r),items:t.teachers.data,"error-messages":e.form.errors.user_ids,multiple:"","item-title":"name","item-value":"id"},null,8,["modelValue","items","error-messages"]),s(v,null,{default:l(()=>[s(i,null,{default:l(()=>[s(f,{"prepend-icon":"mdi-image",label:"الصورة",variant:"solo","error-messages":e.form.errors.image,onChange:o[6]||(o[6]=r=>e.form.image=r.target.files[0])},null,8,["error-messages"])]),_:1}),s(i,{cols:"3"},{default:l(()=>[s(p,{src:t.course.data.image_url,width:"500px"},null,8,["src"])]),_:1})]),_:1}),s(_,{modelValue:e.items,"onUpdate:modelValue":o[7]||(o[7]=r=>e.items=r)},null,8,["modelValue"])]),_:1},8,["onSave"])]),_:1})}}});export{k as default};
