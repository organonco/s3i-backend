import{_ as v}from"./MainLayout-6e26277e.js";import{_,a as c}from"./CourseItemsInput-dec0a70b.js";import{S as V}from"./SimpleFormSheet-a38a53d2.js";import{r as a,o as b,f as h,w as l,a as s,T as y}from"./app-363d3d92.js";import"./CenterSheet-0428f47d.js";const U={mounted(){console.log(this.course)},data:function(){return{items:this.course.data.items,form:y({_method:"put",name:this.course.data.name,description:this.course.data.description,introduction_video_url:this.course.data.introduction_video_url,category_id:this.course.data.category.id,students_limit:this.course.data.students_limit,user_ids:this.course.data.user_ids,telegram_url:this.course.data.telegram_url,image:"",price:this.course.data.price})}},methods:{submit:function(){for(let t=0;t<this.items.length;t++)this.items[t]=c.cloneDeep(this.items[t]);this.form.transform(t=>({...t,items:this.items})).post(route("course.update",this.course.data.id))}}},k=Object.assign(U,{__name:"Edit",props:{course:Object,categories:Object,teachers:Array},setup(t){return(e,o)=>{const i=a("v-text-field"),n=a("v-textarea"),u=a("v-autocomplete"),d=a("v-select"),f=a("v-file-input"),m=a("v-col"),p=a("v-img"),g=a("v-row");return b(),h(v,{title:"تعديل دورة"},{default:l(()=>[s(V,{cols:"8",onSave:e.submit},{default:l(()=>[s(i,{label:"اسم الدورة",variant:"solo",modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=r=>e.form.name=r),"error-messages":e.form.errors.name},null,8,["modelValue","error-messages"]),s(n,{label:"الوصف",variant:"solo",modelValue:e.form.description,"onUpdate:modelValue":o[1]||(o[1]=r=>e.form.description=r),"error-messages":e.form.errors.description},null,8,["modelValue","error-messages"]),s(i,{label:"رابط الفيديو التعريفي",variant:"solo",modelValue:e.form.introduction_video_url,"onUpdate:modelValue":o[2]||(o[2]=r=>e.form.introduction_video_url=r),"error-messages":e.form.errors.introduction_video_url},null,8,["modelValue","error-messages"]),s(i,{label:"عدد الطلاب في كل صف",type:"number",variant:"solo",modelValue:e.form.students_limit,"onUpdate:modelValue":o[3]||(o[3]=r=>e.form.students_limit=r),"error-messages":e.form.errors.students_limit},null,8,["modelValue","error-messages"]),s(u,{label:"القسم",variant:"solo",modelValue:e.form.category_id,"onUpdate:modelValue":o[4]||(o[4]=r=>e.form.category_id=r),items:t.categories.data,"error-messages":e.form.errors.category_id,"item-title":"name","item-value":"id"},null,8,["modelValue","items","error-messages"]),s(d,{label:"المدربين",variant:"solo",modelValue:e.form.user_ids,"onUpdate:modelValue":o[5]||(o[5]=r=>e.form.user_ids=r),items:t.teachers.data,"error-messages":e.form.errors.user_ids,multiple:"","item-title":"name","item-value":"id"},null,8,["modelValue","items","error-messages"]),s(g,null,{default:l(()=>[s(m,null,{default:l(()=>[s(f,{"prepend-icon":"mdi-image",label:"الصورة",variant:"solo","error-messages":e.form.errors.image,onChange:o[6]||(o[6]=r=>e.form.image=r.target.files[0])},null,8,["error-messages"])]),_:1}),s(m,{cols:"3"},{default:l(()=>[s(p,{src:t.course.data.image_url,width:"500px"},null,8,["src"])]),_:1})]),_:1}),s(_,{modelValue:e.items,"onUpdate:modelValue":o[7]||(o[7]=r=>e.items=r)},null,8,["modelValue"])]),_:1},8,["onSave"])]),_:1})}}});export{k as default};
